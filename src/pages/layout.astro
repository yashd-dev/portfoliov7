---
import "./global.css";
import clsx from "clsx";
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap"
			rel="stylesheet"
		/>
		<meta name="generator" content={Astro.generator} />
		<title>Yash D</title>
	</head>
	<body
		class="bg-background text-text min-w-screen min-h-[100vh] bg-build-white md:overflow-clip pt-[10vh] md:pt-0 px-10 md:px-32"
	>
		<slot />

		<nav
			class="fixed w-[50vw] h-[9vh] md:h-[30vh] md:w-[15vh] rounded-2xl top-10 left-[20%] md:left-[1%] md:top-1/3 bg-card border-2 border-pink"
			id="navbar"
		>
			<div class="relative w-full h-full">
				<a href="/" rel="prefetch">
					<i
						data-lucide="home"
						class={clsx(
							"size-10 md:size-16 text-white rounded-2xl p-1 md:p-3 mx-auto absolute transition left-5  md:left-0 md:right-0 top-5 hover:bg-green hover:text-black",
							{
								"bg-green !text-black":
									Astro.url.pathname === "/",
							}
						)}
					>
					</i>
				</a>
				<a href="/blog/" rel="prefetch">
					<i
						data-lucide="book-text"
						class={clsx(
							"size-10 md:size-16 text-white rounded-2xl p-1 md:p-3 mx-auto absolute right-5 md:left-0 md:right-0 top-5 md:bottom-5 md:top-auto transition hover:bg-green hover:text-black",
							{
								"bg-green !text-black":
									Astro.url.pathname === "/blog/",
							}
						)}
					>
					</i>
				</a>
			</div>
		</nav>
		<script is:inline>
			if (window.innerWidth < 768) {
				let lastScrollTop =
					window.scrollY || document.documentElement.scrollTop;
				const navbar = document.getElementById("navbar");

				window.addEventListener("scroll", function () {
					const scrollTop =
						window.scrollY || document.documentElement.scrollTop;

					if (scrollTop > lastScrollTop) {
						navbar.style.transition = "top 0.3s";
						navbar.style.top = "-80px";
					} else {
						navbar.style.transition = "top 0.3s";
						navbar.style.top = "20px";
					}

					lastScrollTop = scrollTop;
				});
			}
		</script>

		<script src="https://unpkg.com/lucide@latest" is:inline></script>
		<script is:inline>
			lucide.createIcons();
		</script>
		<script
			is:inline
			src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"
		></script>
		<script is:inline>
			document.addEventListener("DOMContentLoaded", () => {
				const lenis = new Lenis();

				function raf(time) {
					lenis.raf(time);
					requestAnimationFrame(raf);
				}

				requestAnimationFrame(raf);
			});
		</script>
		<style>
			/* html.lenis,
			html.lenis body {
				height: auto;
			}

			.lenis.lenis-smooth {
				scroll-behavior: auto !important;
			}

			.lenis.lenis-smooth [data-lenis-prevent] {
				overscroll-behavior: contain;
			}

			.lenis.lenis-stopped {
				overflow: hidden;
			}

			.lenis.lenis-scrolling iframe {
				pointer-events: none;
			} */
		</style>
	</body>
</html>
